package com.hisun.DD;

import com.hisun.SC.*;
import com.hisun.TC.XStreamUtil;

import java.io.IOException;
import java.sql.SQLException;

public class DDOT5220 {
    short WS_FLD_NO = 0;
    String WS_ERR_MSG = " ";
    DDCMSG_ERROR_MSG DDCMSG_ERROR_MSG = new DDCMSG_ERROR_MSG();
    SCCMSG SCCMSG = new SCCMSG();
    SCCEXCP SCCEXCP = new SCCEXCP();
    SCCCALL SCCCALL = new SCCCALL();
    DDCSUAC DDCSUAC = new DDCSUAC();
    SCCGWA SCCGWA;
    DDB5220_AWA_5220 DDB5220_AWA_5220;
    public void MP(SCCGWA SCCGWA) throws IOException,SQLException,Exception {
        this.SCCGWA = SCCGWA;
        CEP.TRC(SCCGWA);
        A000_INIT_PROCESS();
        B000_MAIN_PROCESS();
        CEP.TRC(SCCGWA, "DDOT5220 return!");
        Z_RET();
    }
    public void A000_INIT_PROCESS() throws IOException,SQLException,Exception {
        SCCGWA.COMM_AREA.AWA_AREA_PTR = SCCGWA.COMM_AREA.AWA_AREA_PTR.replaceAll("BODY>", "DDB5220_AWA_5220>");
        DDB5220_AWA_5220 = (DDB5220_AWA_5220) XStreamUtil.xmlToBean(SCCGWA.COMM_AREA.AWA_AREA_PTR);
    }
    public void B000_MAIN_PROCESS() throws IOException,SQLException,Exception {
        B100_CHECK_INPUT_DATA();
        B200_TRANS_DATA_PROC();
    }
    public void B100_CHECK_INPUT_DATA() throws IOException,SQLException,Exception {
        CEP.TRC(SCCGWA, DDB5220_AWA_5220.AC_NO);
        CEP.TRC(SCCGWA, DDB5220_AWA_5220.AC_TYPE);
        CEP.TRC(SCCGWA, DDB5220_AWA_5220.CR_FLG);
        CEP.TRC(SCCGWA, DDB5220_AWA_5220.DR_FLG);
        CEP.TRC(SCCGWA, DDB5220_AWA_5220.CASH_FLG);
        CEP.TRC(SCCGWA, DDB5220_AWA_5220.OPEN_DT);
        if (DDB5220_AWA_5220.AC_NO.trim().length() == 0) {
            WS_ERR_MSG = DDCMSG_ERROR_MSG.DD_AC_NO_M_INPUT;
            WS_FLD_NO = DDB5220_AWA_5220.AC_NO_NO;
            S000_ERR_MSG_PROC();
        }
        if (!SCCGWA.COMM_AREA.REQ_SYSTEM.equalsIgnoreCase("031400")) {
            if (DDB5220_AWA_5220.VER_TEL1.trim().length() == 0 
                && DDB5220_AWA_5220.VER_CEL1.trim().length() == 0) {
                CEP.TRC(SCCGWA, "YYYYYY");
                WS_ERR_MSG = DDCMSG_ERROR_MSG.DD_TEL_NO_M_INPUT;
                S000_ERR_MSG_PROC();
            }
            if (DDB5220_AWA_5220.VER_TYP2 != ' ') {
                if (DDB5220_AWA_5220.VER_NAM2.trim().length() == 0) {
                    CEP.TRC(SCCGWA, "LLLLLL");
                    WS_ERR_MSG = DDCMSG_ERROR_MSG.DD_VER_NAM2_M_INPUT;
                    S000_ERR_MSG_PROC();
                }
            }
            if (DDB5220_AWA_5220.EXP_DATE != 0) {
                if (DDB5220_AWA_5220.EXP_DATE < SCCGWA.COMM_AREA.AC_DATE 
                    && DDB5220_AWA_5220.AC_TYPE == 'F') {
                    WS_ERR_MSG = DDCMSG_ERROR_MSG.DD_EXP_LESS_AC_DT;
                    S000_ERR_MSG_PROC();
                }
            }
        }
    }
    public void B200_TRANS_DATA_PROC() throws IOException,SQLException,Exception {
        IBS.init(SCCGWA, DDCSUAC);
        DDCSUAC.BASIC_INF.AC_NO = DDB5220_AWA_5220.AC_NO;
        DDCSUAC.BASIC_INF.AC_CNM = DDB5220_AWA_5220.AC_CNM;
        DDCSUAC.BASIC_INF.CCY = DDB5220_AWA_5220.CCY;
        DDCSUAC.BASIC_INF.SUB_DP = DDB5220_AWA_5220.SUB_DP;
        DDCSUAC.BASIC_INF.SUB_DP_NM = DDB5220_AWA_5220.SUB_DPNM;
        DDCSUAC.BASIC_INF.AC_OIC_NO = DDB5220_AWA_5220.AC_OIC_N;
        DDCSUAC.BASIC_INF.RGN_CD = DDB5220_AWA_5220.RGN_CD;
        DDCSUAC.BASIC_INF.RGN_CD_NM = DDB5220_AWA_5220.RGN_CDNM;
        DDCSUAC.BASIC_INF.TXN_TYPE = DDB5220_AWA_5220.TXN_TYPE;
        DDCSUAC.BASIC_INF.CHK_IND = DDB5220_AWA_5220.CHK_IND;
        DDCSUAC.BASIC_INF.AC_TYPE = DDB5220_AWA_5220.AC_TYPE;
        DDCSUAC.BASIC_INF.CR_FLG = DDB5220_AWA_5220.CR_FLG;
        DDCSUAC.BASIC_INF.DR_FLG = DDB5220_AWA_5220.DR_FLG;
        DDCSUAC.BASIC_INF.FRG_IND = DDB5220_AWA_5220.FRG_IND;
        DDCSUAC.BASIC_INF.AC_PURP = DDB5220_AWA_5220.AC_PURP;
        DDCSUAC.BASIC_INF.CASH_FLG = DDB5220_AWA_5220.CASH_FLG;
        DDCSUAC.COMP_INF.OPEN_NO = DDB5220_AWA_5220.OPEN_NO;
        DDCSUAC.COMP_INF.EXP_DATE = DDB5220_AWA_5220.EXP_DATE;
        DDCSUAC.COMP_INF.FRG_OPNO = DDB5220_AWA_5220.FRG_OPNO;
        DDCSUAC.COMP_INF.FRG_CODE = DDB5220_AWA_5220.FRG_CODE;
        DDCSUAC.COMP_INF.FRG_TYPE = DDB5220_AWA_5220.FRG_TYPE;
        DDCSUAC.COMP_INF.OSA_BR = DDB5220_AWA_5220.OSA_BR;
        DDCSUAC.COMP_INF.OSA_BRN = DDB5220_AWA_5220.OSA_BRN;
        DDCSUAC.COMP_INF.OSA_MGR = DDB5220_AWA_5220.OSA_MGR;
        DDCSUAC.COMP_INF.OSA_MGR_TEL = DDB5220_AWA_5220.OSA_MTEL;
        DDCSUAC.COMP_INF.AUTH_TYP1 = DDB5220_AWA_5220.AUTHTYP1;
        DDCSUAC.COMP_INF.AUTH_NO1 = DDB5220_AWA_5220.AUTH_NO1;
        DDCSUAC.COMP_INF.AUTH_CNM1 = DDB5220_AWA_5220.AUTHCNM1;
        DDCSUAC.COMP_INF.AUTH_TEL_NO1 = DDB5220_AWA_5220.AUTHTEL1;
        DDCSUAC.COMP_INF.AUTH_TYP2 = DDB5220_AWA_5220.AUTHTYP2;
        DDCSUAC.COMP_INF.AUTH_NO2 = DDB5220_AWA_5220.AUTH_NO2;
        DDCSUAC.COMP_INF.AUTH_CNM2 = DDB5220_AWA_5220.AUTHCNM2;
        DDCSUAC.COMP_INF.AUTH_TEL_NO2 = DDB5220_AWA_5220.AUTHTEL2;
        DDCSUAC.COMP_INF.AUTH_TYP3 = DDB5220_AWA_5220.AUTHTYP3;
        DDCSUAC.COMP_INF.AUTH_NO3 = DDB5220_AWA_5220.AUTH_NO3;
        DDCSUAC.COMP_INF.AUTH_CNM3 = DDB5220_AWA_5220.AUTHCNM3;
        DDCSUAC.COMP_INF.AUTH_TEL_NO3 = DDB5220_AWA_5220.AUTHTEL3;
        DDCSUAC.COMP_INF.VER_TYPE1 = DDB5220_AWA_5220.VER_TYP1;
        DDCSUAC.COMP_INF.VER_NAME1 = DDB5220_AWA_5220.VER_NAM1;
        DDCSUAC.COMP_INF.VER_POS1 = DDB5220_AWA_5220.VER_POS1;
        DDCSUAC.COMP_INF.VER_TEL1 = DDB5220_AWA_5220.VER_TEL1;
        DDCSUAC.COMP_INF.VER_CELL1 = DDB5220_AWA_5220.VER_CEL1;
        DDCSUAC.COMP_INF.VER_TYPE2 = DDB5220_AWA_5220.VER_TYP2;
        DDCSUAC.COMP_INF.VER_NAME2 = DDB5220_AWA_5220.VER_NAM2;
        DDCSUAC.COMP_INF.VER_POS2 = DDB5220_AWA_5220.VER_POS2;
        DDCSUAC.COMP_INF.VER_TEL2 = DDB5220_AWA_5220.VER_TEL2;
        DDCSUAC.COMP_INF.VER_CELL2 = DDB5220_AWA_5220.VER_CEL2;
        DDCSUAC.COMP_INF.FIN_NAME1 = DDB5220_AWA_5220.FIN_NAM1;
        DDCSUAC.COMP_INF.FIN_TEL1 = DDB5220_AWA_5220.FIN_TEL1;
        DDCSUAC.COMP_INF.FIN_CELL1 = DDB5220_AWA_5220.FIN_CEL1;
        DDCSUAC.COMP_INF.FIN_NAME2 = DDB5220_AWA_5220.FIN_NAM2;
        DDCSUAC.COMP_INF.FIN_TEL2 = DDB5220_AWA_5220.FIN_TEL2;
        DDCSUAC.COMP_INF.FIN_CELL2 = DDB5220_AWA_5220.FIN_CEL2;
        DDCSUAC.COMP_INF.FIN_NAME3 = DDB5220_AWA_5220.FIN_NAM3;
        DDCSUAC.COMP_INF.FIN_TEL3 = DDB5220_AWA_5220.FIN_TEL3;
        DDCSUAC.COMP_INF.FIN_CELL3 = DDB5220_AWA_5220.FIN_CEL3;
        DDCSUAC.COMP_INF.CHK_NAME1 = DDB5220_AWA_5220.CHK_NAM1;
        DDCSUAC.COMP_INF.CHK_CELL1 = DDB5220_AWA_5220.CHK_CEL1;
        DDCSUAC.COMP_INF.CHK_NAME2 = DDB5220_AWA_5220.CHK_NAM2;
        DDCSUAC.COMP_INF.CHK_CELL2 = DDB5220_AWA_5220.CHK_CEL2;
        DDCSUAC.COMP_INF.CHK_NAME3 = DDB5220_AWA_5220.CHK_NAM3;
        DDCSUAC.COMP_INF.CHK_CELL3 = DDB5220_AWA_5220.CHK_CEL3;
        DDCSUAC.COMP_INF.CHK_NAME4 = DDB5220_AWA_5220.CHK_NAM4;
        DDCSUAC.COMP_INF.CHK_CELL4 = DDB5220_AWA_5220.CHK_CEL4;
        DDCSUAC.COMP_INF.CHK_DATE = DDB5220_AWA_5220.CHK_DATE;
        CEP.TRC(SCCGWA, "SSSSSSSSSSSS");
        CEP.TRC(SCCGWA, DDB5220_AWA_5220.AC_TYPE);
        CEP.TRC(SCCGWA, DDB5220_AWA_5220.CR_FLG);
        CEP.TRC(SCCGWA, DDB5220_AWA_5220.DR_FLG);
        CEP.TRC(SCCGWA, DDB5220_AWA_5220.FRG_IND);
        CEP.TRC(SCCGWA, DDB5220_AWA_5220.AC_PURP);
        CEP.TRC(SCCGWA, DDB5220_AWA_5220.CASH_FLG);
        CEP.TRC(SCCGWA, DDB5220_AWA_5220.OPEN_NO);
        CEP.TRC(SCCGWA, DDB5220_AWA_5220.EXP_DATE);
        CEP.TRC(SCCGWA, DDB5220_AWA_5220.FRG_OPNO);
        CEP.TRC(SCCGWA, DDB5220_AWA_5220.FRG_CODE);
        CEP.TRC(SCCGWA, DDB5220_AWA_5220.FRG_TYPE);
        CEP.TRC(SCCGWA, DDCSUAC.COMP_INF.OSA_BR);
        CEP.TRC(SCCGWA, DDCSUAC.COMP_INF.OSA_BRN);
        CEP.TRC(SCCGWA, DDCSUAC.COMP_INF.OSA_MGR);
        CEP.TRC(SCCGWA, DDCSUAC.COMP_INF.OSA_MGR_TEL);
        CEP.TRC(SCCGWA, DDCSUAC.COMP_INF.VER_TYPE1);
        CEP.TRC(SCCGWA, DDCSUAC.COMP_INF.VER_NAME1);
        CEP.TRC(SCCGWA, DDCSUAC.COMP_INF.VER_POS1);
        CEP.TRC(SCCGWA, DDCSUAC.COMP_INF.VER_TEL1);
        CEP.TRC(SCCGWA, DDCSUAC.COMP_INF.VER_CELL1);
        CEP.TRC(SCCGWA, DDCSUAC.COMP_INF.VER_TYPE2);
        CEP.TRC(SCCGWA, DDCSUAC.BASIC_INF.CHK_IND);
        CEP.TRC(SCCGWA, DDCSUAC.COMP_INF.OPEN_DT);
        S000_CALL_DDZSUAC();
    }
    public void S000_CALL_DDZSUAC() throws IOException,SQLException,Exception {
        IBS.CALLCPN(SCCGWA, "DD-SVR-UPDATE-ACTX", DDCSUAC);
    }
    public void S000_ERR_MSG_PROC() throws IOException,SQLException,Exception {
        CEP.ERR(SCCGWA, WS_ERR_MSG, WS_FLD_NO);
    }
    public void Z_RET() throws IOException,SQLException,Exception {
        return;
    }
    public void B_DB_EXCP() throws IOException,SQLException,Exception {
        throw new SQLException(SCCGWA.e);
    }
}
