package com.hisun.AI;

import com.hisun.SC.*;
import com.hisun.BP.*;

import java.io.IOException;
import java.sql.SQLException;

public class AIZSEEFF {
    brParm AITFEVE_BR = new brParm();
    String WS_ERR_MSG = " ";
    char WS_FST_FLG = ' ';
    char WS_AITFEVE_FND_FLG = ' ';
    AICMSG_ERROR_MSG AICMSG_ERROR_MSG = new AICMSG_ERROR_MSG();
    SCCEXCP SCCEXCP = new SCCEXCP();
    SCCCALL SCCCALL = new SCCCALL();
    SCCMSG SCCMSG = new SCCMSG();
    BPCPEBAS BPCPEBAS = new BPCPEBAS();
    BPCPOEWA BPCPOEWA = new BPCPOEWA();
    AIRFEVE AIRFEVE = new AIRFEVE();
    SCCGWA SCCGWA;
    SCCGSCA_SC_AREA GWA_SC_AREA;
    SCCGBPA_BP_AREA GWA_BP_AREA;
    AICOEEFF AICOEEFF;
    public void MP(SCCGWA SCCGWA, AICOEEFF AICOEEFF) throws IOException,SQLException,Exception {
        this.SCCGWA = SCCGWA;
        this.AICOEEFF = AICOEEFF;
        CEP.TRC(SCCGWA);
        A000_INIT_PROC();
        B000_MAIN_PROC();
        CEP.TRC(SCCGWA, "AIZSEEFF return!");
        Z_RET();
    }
    public void A000_INIT_PROC() throws IOException,SQLException,Exception {
        GWA_SC_AREA = (SCCGSCA_SC_AREA) SCCGWA.SC_AREA_PTR;
        GWA_BP_AREA = (SCCGBPA_BP_AREA) SCCGWA.BP_AREA_PTR;
    }
    public void B000_MAIN_PROC() throws IOException,SQLException,Exception {
        B010_GEN_EVE_DATA();
    }
    public void B010_GEN_EVE_DATA() throws IOException,SQLException,Exception {
        WS_AITFEVE_FND_FLG = 'N';
        CEP.TRC(SCCGWA, AICOEEFF.AC_DATE);
        CEP.TRC(SCCGWA, AICOEEFF.SET_NO);
        CEP.TRC(SCCGWA, AICOEEFF.EFF_DAYS);
        IBS.init(SCCGWA, AIRFEVE);
        AIRFEVE.KEY.AC_DATE = AICOEEFF.AC_DATE;
        AIRFEVE.KEY.SET_NO = AICOEEFF.SET_NO;
        AIRFEVE.EFF_DAYS = AICOEEFF.EFF_DAYS;
        T000_OPEN_AITFEVE();
        T000_READNEXT_AITFEVE();
        if (WS_AITFEVE_FND_FLG == 'N') {
            WS_ERR_MSG = AICMSG_ERROR_MSG.AI_PROC_EVE_NOT_FND;
            S000_ERR_MSG_PROC();
        }
        while (WS_AITFEVE_FND_FLG != 'N') {
            B011_ADD_EWA();
            T000_READNEXT_AITFEVE();
        }
        T000_CLOSE_AITFEVE();
    }
    public void B011_ADD_EWA() throws IOException,SQLException,Exception {
        IBS.init(SCCGWA, BPCPOEWA);
        if (WS_FST_FLG == 'Y') {
            WS_FST_FLG = 'N';
            B012_ADD_BASIC_INFO();
        }
        SCCGWA.COMM_AREA.BR_DP.TR_BRANCH = AIRFEVE.TR_BR;
        BPCPOEWA.DATA.MOD_NO = AIRFEVE.MOD_NO;
        BPCPOEWA.DATA.CNTR_TYPE = AIRFEVE.CNTR_TYPE;
        BPCPOEWA.DATA.PROD_CODE = AIRFEVE.PROD_CODE;
        BPCPOEWA.DATA.AC_NO = AIRFEVE.AC_NO;
        BPCPOEWA.DATA.EVENT_CODE = AIRFEVE.EVENT_CODE;
        BPCPOEWA.DATA.CNTR_TYPE_REL = AIRFEVE.CNTR_TYPE_REL;
        BPCPOEWA.DATA.PROD_CODE_REL = AIRFEVE.PROD_CODE_REL;
        BPCPOEWA.DATA.AC_NO_REL = AIRFEVE.AC_NO_REL;
        BPCPOEWA.DATA.EVENT_CODE_REL = AIRFEVE.EVENT_CODE_REL;
        BPCPOEWA.DATA.BR_OLD = AIRFEVE.BR_OLD;
        BPCPOEWA.DATA.BR_NEW = AIRFEVE.BR_NEW;
        BPCPOEWA.DATA.CCY_INFO[1-1].CCY = AIRFEVE.CCY1;
        BPCPOEWA.DATA.CCY_INFO[2-1].CCY = AIRFEVE.CCY2;
        BPCPOEWA.DATA.CCY_INFO[3-1].CCY = AIRFEVE.CCY3;
        BPCPOEWA.DATA.CCY_INFO[4-1].CCY = AIRFEVE.CCY4;
        BPCPOEWA.DATA.CCY_INFO[5-1].CCY = AIRFEVE.CCY5;
        BPCPOEWA.DATA.VALUE_DATE = AIRFEVE.VAL_DATE;
        BPCPOEWA.DATA.DD_AC = AIRFEVE.DD_AC;
        BPCPOEWA.DATA.IB_GL = AIRFEVE.IB_GL;
        BPCPOEWA.DATA.GLAC_INFO[1-1].GLM1 = AIRFEVE.GLMST1_1;
        BPCPOEWA.DATA.GLAC_INFO[1-1].GLM2 = AIRFEVE.GLMST2_1;
        BPCPOEWA.DATA.GLAC_INFO[1-1].ITM1 = AIRFEVE.ITM1_1;
        BPCPOEWA.DATA.GLAC_INFO[1-1].ITM2 = AIRFEVE.ITM2_1;
        BPCPOEWA.DATA.GLAC_INFO[2-1].GLM1 = AIRFEVE.GLMST1_2;
        BPCPOEWA.DATA.GLAC_INFO[2-1].GLM2 = AIRFEVE.GLMST2_2;
        BPCPOEWA.DATA.GLAC_INFO[2-1].ITM1 = AIRFEVE.ITM1_2;
        BPCPOEWA.DATA.GLAC_INFO[2-1].ITM2 = AIRFEVE.ITM2_2;
        BPCPOEWA.DATA.GLAC_INFO[3-1].GLM1 = AIRFEVE.GLMST1_3;
        BPCPOEWA.DATA.GLAC_INFO[3-1].GLM2 = AIRFEVE.GLMST2_3;
        BPCPOEWA.DATA.GLAC_INFO[3-1].ITM1 = AIRFEVE.ITM1_3;
        BPCPOEWA.DATA.GLAC_INFO[3-1].ITM2 = AIRFEVE.ITM2_3;
        BPCPOEWA.DATA.GLAC_INFO[4-1].GLM1 = AIRFEVE.GLMST1_4;
        BPCPOEWA.DATA.GLAC_INFO[4-1].GLM2 = AIRFEVE.GLMST2_4;
        BPCPOEWA.DATA.GLAC_INFO[4-1].ITM1 = AIRFEVE.ITM1_4;
        BPCPOEWA.DATA.GLAC_INFO[4-1].ITM2 = AIRFEVE.ITM2_4;
        BPCPOEWA.DATA.GLAC_INFO[5-1].GLM1 = AIRFEVE.GLMST1_5;
        BPCPOEWA.DATA.GLAC_INFO[5-1].GLM2 = AIRFEVE.GLMST2_5;
        BPCPOEWA.DATA.GLAC_INFO[5-1].ITM1 = AIRFEVE.ITM1_5;
        BPCPOEWA.DATA.GLAC_INFO[5-1].ITM2 = AIRFEVE.ITM2_5;
        BPCPOEWA.DATA.GLAC_INFO[6-1].GLM1 = AIRFEVE.GLMST1_6;
        BPCPOEWA.DATA.GLAC_INFO[6-1].GLM2 = AIRFEVE.GLMST2_6;
        BPCPOEWA.DATA.GLAC_INFO[6-1].ITM1 = AIRFEVE.ITM1_6;
        BPCPOEWA.DATA.GLAC_INFO[6-1].ITM2 = AIRFEVE.ITM2_6;
        BPCPOEWA.DATA.GLAC_INFO[7-1].GLM1 = AIRFEVE.GLMST1_7;
        BPCPOEWA.DATA.GLAC_INFO[7-1].GLM2 = AIRFEVE.GLMST2_7;
        BPCPOEWA.DATA.GLAC_INFO[7-1].ITM1 = AIRFEVE.ITM1_7;
        BPCPOEWA.DATA.GLAC_INFO[7-1].ITM2 = AIRFEVE.ITM2_7;
        BPCPOEWA.DATA.GLAC_INFO[8-1].GLM1 = AIRFEVE.GLMST1_8;
        BPCPOEWA.DATA.GLAC_INFO[8-1].GLM2 = AIRFEVE.GLMST2_8;
        BPCPOEWA.DATA.GLAC_INFO[8-1].ITM1 = AIRFEVE.ITM1_8;
        BPCPOEWA.DATA.GLAC_INFO[8-1].ITM2 = AIRFEVE.ITM2_8;
        BPCPOEWA.DATA.GLAC_INFO[9-1].GLM1 = AIRFEVE.GLMST1_9;
        BPCPOEWA.DATA.GLAC_INFO[9-1].GLM2 = AIRFEVE.GLMST2_9;
        BPCPOEWA.DATA.GLAC_INFO[9-1].ITM1 = AIRFEVE.ITM1_9;
        BPCPOEWA.DATA.GLAC_INFO[9-1].ITM2 = AIRFEVE.ITM2_9;
        BPCPOEWA.DATA.GLAC_INFO[10-1].GLM1 = AIRFEVE.GLMST1_10;
        BPCPOEWA.DATA.GLAC_INFO[10-1].GLM2 = AIRFEVE.GLMST2_10;
        BPCPOEWA.DATA.GLAC_INFO[10-1].ITM1 = AIRFEVE.ITM1_10;
        BPCPOEWA.DATA.GLAC_INFO[10-1].ITM2 = AIRFEVE.ITM2_10;
        BPCPOEWA.DATA.AMT_INFO[1-1].AMT = AIRFEVE.AMT1;
        BPCPOEWA.DATA.AMT_INFO[2-1].AMT = AIRFEVE.AMT2;
        BPCPOEWA.DATA.AMT_INFO[3-1].AMT = AIRFEVE.AMT3;
        BPCPOEWA.DATA.AMT_INFO[4-1].AMT = AIRFEVE.AMT4;
        BPCPOEWA.DATA.AMT_INFO[5-1].AMT = AIRFEVE.AMT5;
        BPCPOEWA.DATA.AMT_INFO[6-1].AMT = AIRFEVE.AMT6;
        BPCPOEWA.DATA.AMT_INFO[7-1].AMT = AIRFEVE.AMT7;
        BPCPOEWA.DATA.AMT_INFO[8-1].AMT = AIRFEVE.AMT8;
        BPCPOEWA.DATA.AMT_INFO[9-1].AMT = AIRFEVE.AMT9;
        BPCPOEWA.DATA.AMT_INFO[10-1].AMT = AIRFEVE.AMT10;
        BPCPOEWA.DATA.AMT_INFO[11-1].AMT = AIRFEVE.AMT11;
        BPCPOEWA.DATA.AMT_INFO[12-1].AMT = AIRFEVE.AMT12;
        BPCPOEWA.DATA.AMT_INFO[13-1].AMT = AIRFEVE.AMT13;
        BPCPOEWA.DATA.AMT_INFO[14-1].AMT = AIRFEVE.AMT14;
        BPCPOEWA.DATA.AMT_INFO[15-1].AMT = AIRFEVE.AMT15;
        BPCPOEWA.DATA.AMT_INFO[16-1].AMT = AIRFEVE.AMT16;
        BPCPOEWA.DATA.AMT_INFO[17-1].AMT = AIRFEVE.AMT17;
        BPCPOEWA.DATA.AMT_INFO[18-1].AMT = AIRFEVE.AMT18;
        BPCPOEWA.DATA.AMT_INFO[19-1].AMT = AIRFEVE.AMT19;
        BPCPOEWA.DATA.AMT_INFO[20-1].AMT = AIRFEVE.AMT20;
        BPCPOEWA.DATA.AMT_INFO[21-1].AMT = AIRFEVE.AMT21;
        BPCPOEWA.DATA.AMT_INFO[22-1].AMT = AIRFEVE.AMT22;
        BPCPOEWA.DATA.AMT_INFO[23-1].AMT = AIRFEVE.AMT23;
        BPCPOEWA.DATA.AMT_INFO[24-1].AMT = AIRFEVE.AMT24;
        BPCPOEWA.DATA.AMT_INFO[25-1].AMT = AIRFEVE.AMT25;
        BPCPOEWA.DATA.AMT_INFO[26-1].AMT = AIRFEVE.AMT26;
        BPCPOEWA.DATA.AMT_INFO[27-1].AMT = AIRFEVE.AMT27;
        BPCPOEWA.DATA.AMT_INFO[28-1].AMT = AIRFEVE.AMT28;
        BPCPOEWA.DATA.AMT_INFO[29-1].AMT = AIRFEVE.AMT29;
        BPCPOEWA.DATA.AMT_INFO[30-1].AMT = AIRFEVE.AMT30;
        BPCPOEWA.DATA.AMT_INFO[31-1].AMT = AIRFEVE.AMT31;
        BPCPOEWA.DATA.AMT_INFO[32-1].AMT = AIRFEVE.AMT32;
        BPCPOEWA.DATA.AMT_INFO[33-1].AMT = AIRFEVE.AMT33;
        BPCPOEWA.DATA.AMT_INFO[34-1].AMT = AIRFEVE.AMT34;
        BPCPOEWA.DATA.AMT_INFO[35-1].AMT = AIRFEVE.AMT35;
        BPCPOEWA.DATA.AMT_INFO[36-1].AMT = AIRFEVE.AMT36;
        BPCPOEWA.DATA.AMT_INFO[37-1].AMT = AIRFEVE.AMT37;
        BPCPOEWA.DATA.AMT_INFO[38-1].AMT = AIRFEVE.AMT38;
        BPCPOEWA.DATA.AMT_INFO[39-1].AMT = AIRFEVE.AMT39;
        BPCPOEWA.DATA.AMT_INFO[40-1].AMT = AIRFEVE.AMT40;
        BPCPOEWA.DATA.AMT_INFO[41-1].AMT = AIRFEVE.AMT41;
        BPCPOEWA.DATA.AMT_INFO[42-1].AMT = AIRFEVE.AMT42;
        BPCPOEWA.DATA.AMT_INFO[43-1].AMT = AIRFEVE.AMT43;
        BPCPOEWA.DATA.AMT_INFO[44-1].AMT = AIRFEVE.AMT44;
        BPCPOEWA.DATA.AMT_INFO[45-1].AMT = AIRFEVE.AMT45;
        BPCPOEWA.DATA.AMT_INFO[46-1].AMT = AIRFEVE.AMT46;
        BPCPOEWA.DATA.AMT_INFO[47-1].AMT = AIRFEVE.AMT47;
        BPCPOEWA.DATA.AMT_INFO[48-1].AMT = AIRFEVE.AMT48;
        BPCPOEWA.DATA.AMT_INFO[49-1].AMT = AIRFEVE.AMT49;
        BPCPOEWA.DATA.AMT_INFO[50-1].AMT = AIRFEVE.AMT50;
        BPCPOEWA.DATA.AMT_INFO[51-1].AMT = AIRFEVE.AMT51;
        BPCPOEWA.DATA.AMT_INFO[52-1].AMT = AIRFEVE.AMT52;
        BPCPOEWA.DATA.AMT_INFO[53-1].AMT = AIRFEVE.AMT53;
        BPCPOEWA.DATA.AMT_INFO[54-1].AMT = AIRFEVE.AMT54;
        BPCPOEWA.DATA.AMT_INFO[55-1].AMT = AIRFEVE.AMT55;
        BPCPOEWA.DATA.AMT_INFO[56-1].AMT = AIRFEVE.AMT56;
        BPCPOEWA.DATA.AMT_INFO[57-1].AMT = AIRFEVE.AMT57;
        BPCPOEWA.DATA.AMT_INFO[58-1].AMT = AIRFEVE.AMT58;
        BPCPOEWA.DATA.AMT_INFO[59-1].AMT = AIRFEVE.AMT59;
        BPCPOEWA.DATA.AMT_INFO[60-1].AMT = AIRFEVE.AMT60;
        BPCPOEWA.DATA.AMT_INFO[61-1].AMT = AIRFEVE.AMT61;
        BPCPOEWA.DATA.AMT_INFO[62-1].AMT = AIRFEVE.AMT62;
        BPCPOEWA.DATA.AMT_INFO[63-1].AMT = AIRFEVE.AMT63;
        BPCPOEWA.DATA.AMT_INFO[64-1].AMT = AIRFEVE.AMT64;
        BPCPOEWA.DATA.AMT_INFO[65-1].AMT = AIRFEVE.AMT65;
        BPCPOEWA.DATA.AMT_INFO[66-1].AMT = AIRFEVE.AMT66;
        BPCPOEWA.DATA.AMT_INFO[67-1].AMT = AIRFEVE.AMT67;
        BPCPOEWA.DATA.AMT_INFO[68-1].AMT = AIRFEVE.AMT68;
        BPCPOEWA.DATA.AMT_INFO[69-1].AMT = AIRFEVE.AMT69;
        BPCPOEWA.DATA.AMT_INFO[70-1].AMT = AIRFEVE.AMT70;
        BPCPOEWA.DATA.AMT_INFO[71-1].AMT = AIRFEVE.AMT71;
        BPCPOEWA.DATA.AMT_INFO[72-1].AMT = AIRFEVE.AMT72;
        BPCPOEWA.DATA.AMT_INFO[73-1].AMT = AIRFEVE.AMT73;
        BPCPOEWA.DATA.AMT_INFO[74-1].AMT = AIRFEVE.AMT74;
        BPCPOEWA.DATA.AMT_INFO[75-1].AMT = AIRFEVE.AMT75;
        BPCPOEWA.DATA.AMT_INFO[76-1].AMT = AIRFEVE.AMT76;
        BPCPOEWA.DATA.CI_NO = AIRFEVE.CI_NO;
        BPCPOEWA.DATA.REF_NO = AIRFEVE.REF_NO;
        BPCPOEWA.DATA.PORT = AIRFEVE.PORTFO_CD;
        BPCPOEWA.DATA.CHQ_NO = AIRFEVE.CHQ_NO;
        BPCPOEWA.DATA.POST_DATE = AIRFEVE.POST_DATE;
        BPCPOEWA.DATA.POST_NARR = AIRFEVE.POST_NARR;
        BPCPOEWA.DATA.NARR_CD = AIRFEVE.NARR_CD;
        BPCPOEWA.DATA.DESC = AIRFEVE.DESC;
        BPCPOEWA.DATA.EFF_DAYS = 0;
        if (AIRFEVE.AP_MMO.equalsIgnoreCase("LN")) {
            BPCPOEWA.DATA.FILLER = "LN";
        } else {
            BPCPOEWA.DATA.FILLER = AIRFEVE.FLR;
        }
        S000_CALL_BPZPOEWA();
    }
    public void B012_ADD_BASIC_INFO() throws IOException,SQLException,Exception {
        IBS.init(SCCGWA, BPCPEBAS);
        BPCPEBAS.DATA.TR_TYPE = AIRFEVE.TR_TYPE;
        BPCPEBAS.DATA.ODE_FLG = AIRFEVE.ODE_FLG;
        BPCPEBAS.DATA.ODE_GRP_NO = AIRFEVE.ODE_GRP_NO;
        BPCPEBAS.DATA.OTHSYS_KEY = AIRFEVE.OTHSYS_KEY;
        BPCPEBAS.DATA.CNTR_INFO.CNTR_TYPE_ORG[1-1] = AIRFEVE.CNTR_TYPE_ORG1;
        BPCPEBAS.DATA.CNTR_INFO.CNTR_TYPE_ORG[2-1] = AIRFEVE.CNTR_TYPE_ORG2;
        BPCPEBAS.DATA.CNTR_INFO.CNTR_TYPE_ORG[3-1] = AIRFEVE.CNTR_TYPE_ORG3;
        BPCPEBAS.DATA.CNTR_INFO.CNTR_TYPE_ORG[4-1] = AIRFEVE.CNTR_TYPE_ORG4;
        BPCPEBAS.DATA.CNTR_INFO.CNTR_TYPE_ORG[5-1] = AIRFEVE.CNTR_TYPE_ORG5;
        BPCPEBAS.DATA.CNTR_INFO.CNTR_TYPE_ORG[6-1] = AIRFEVE.CNTR_TYPE_ORG6;
        S000_CALL_BPZPEBAS();
    }
    public void T000_OPEN_AITFEVE() throws IOException,SQLException,Exception {
        AITFEVE_BR.rp = new DBParm();
        AITFEVE_BR.rp.TableName = "AITFEVE";
        AITFEVE_BR.rp.where = "AC_DATE = :AIRFEVE.KEY.AC_DATE "
            + "AND SET_NO = :AIRFEVE.KEY.SET_NO "
            + "AND EFF_DAYS = :AIRFEVE.EFF_DAYS";
        AITFEVE_BR.rp.order = "AC_DATE,SET_NO,EFF_DAYS";
        IBS.STARTBR(SCCGWA, AIRFEVE, this, AITFEVE_BR);
    }
    public void T000_READNEXT_AITFEVE() throws IOException,SQLException,Exception {
        IBS.READNEXT(SCCGWA, AIRFEVE, this, AITFEVE_BR);
        if (SCCGWA.COMM_AREA.DBIO_FLG == '0') {
            WS_AITFEVE_FND_FLG = 'Y';
        } else {
            WS_AITFEVE_FND_FLG = 'N';
        }
    }
    public void T000_CLOSE_AITFEVE() throws IOException,SQLException,Exception {
        IBS.ENDBR(SCCGWA, AITFEVE_BR);
    }
    public void S000_CALL_BPZPEBAS() throws IOException,SQLException,Exception {
        IBS.CALLCPN(SCCGWA, "BP-P-WRT-BASIC-EWA", BPCPEBAS);
        if (BPCPEBAS.RC.RC_CODE != 0) {
            WS_ERR_MSG = IBS.CLS2CPY(SCCGWA, BPCPEBAS.RC);
            S000_ERR_MSG_PROC();
        }
    }
    public void S000_CALL_BPZPOEWA() throws IOException,SQLException,Exception {
        IBS.CALLCPN(SCCGWA, "BP-P-WRT-ONL-EWA", BPCPOEWA);
        if (BPCPOEWA.RC.RC_CODE != 0) {
            WS_ERR_MSG = IBS.CLS2CPY(SCCGWA, BPCPOEWA.RC);
            S000_ERR_MSG_PROC();
        }
    }
    public void S000_ERR_MSG_PROC() throws IOException,SQLException,Exception {
        CEP.ERR(SCCGWA, WS_ERR_MSG);
    }
    public void Z_RET() throws IOException,SQLException,Exception {
        return;
    }
    public void B_DB_EXCP() throws IOException,SQLException,Exception {
        throw new SQLException(SCCGWA.e);
    }
}
