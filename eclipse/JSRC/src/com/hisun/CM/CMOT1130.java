package com.hisun.CM;

import com.hisun.SC.*;
import com.hisun.TC.XStreamUtil;
import com.hisun.DC.*;
import com.hisun.BP.*;

import java.io.IOException;
import java.sql.SQLException;

public class CMOT1130 {
    CMOT1130_WS_TEMP_VARIABLE WS_TEMP_VARIABLE = new CMOT1130_WS_TEMP_VARIABLE();
    CMCMSG_ERROR_MSG CMCMSG_ERROR_MSG = new CMCMSG_ERROR_MSG();
    SCCEXCP SCCEXCP = new SCCEXCP();
    SCCCALL SCCCALL = new SCCCALL();
    SCCMSG SCCMSG = new SCCMSG();
    SCCFMT SCCFMT = new SCCFMT();
    CMCSCTRF CMCSCTRF = new CMCSCTRF();
    CMCF113 CMCF113 = new CMCF113();
    DCCSQHLD DCCSQHLD = new DCCSQHLD();
    BPCX999 BPCX999 = new BPCX999();
    BPCX998 BPCX998 = new BPCX998();
    SCCGWA SCCGWA;
    CMB1130_AWA_1130 CMB1130_AWA_1130;
    SCCGSCA_SC_AREA GWA_SC_AREA;
    SCCGBPA_BP_AREA GWA_BP_AREA;
    public void MP(SCCGWA SCCGWA) throws IOException,SQLException,Exception {
        this.SCCGWA = SCCGWA;
        CEP.TRC(SCCGWA);
        A000_INIT_PROC();
        B000_MAIN_PROC();
        CEP.TRC(SCCGWA, "CMOT1130 return!");
        Z_RET();
    }
    public void A000_INIT_PROC() throws IOException,SQLException,Exception {
        SCCGWA.COMM_AREA.AWA_AREA_PTR = SCCGWA.COMM_AREA.AWA_AREA_PTR.replaceAll("BODY>", "CMB1130_AWA_1130>");
        CMB1130_AWA_1130 = (CMB1130_AWA_1130) XStreamUtil.xmlToBean(SCCGWA.COMM_AREA.AWA_AREA_PTR);
        GWA_BP_AREA = (SCCGBPA_BP_AREA) SCCGWA.BP_AREA_PTR;
        GWA_SC_AREA = (SCCGSCA_SC_AREA) SCCGWA.SC_AREA_PTR;
    }
    public void B000_MAIN_PROC() throws IOException,SQLException,Exception {
        B010_CHECK_INPUT();
        B030_AC_TRANSFER_PROC();
        B050_OUTPUT_PROC();
    }
    public void B010_CHECK_INPUT() throws IOException,SQLException,Exception {
        if (CMB1130_AWA_1130.AC_TYPE1 == ' ') {
            WS_TEMP_VARIABLE.WS_ERR_MSG = CMCMSG_ERROR_MSG.CM_ERR_INPUT_AC_TYPE;
            S000_ERR_MSG_PROC();
        }
        if (CMB1130_AWA_1130.AC_TYPE2 == ' ') {
            WS_TEMP_VARIABLE.WS_ERR_MSG = CMCMSG_ERROR_MSG.CM_ERR_INPUT_AC_TYPE;
            S000_ERR_MSG_PROC();
        }
        if (CMB1130_AWA_1130.AC1.trim().length() == 0 
            && (CMB1130_AWA_1130.AC_TYPE1 == 'A' 
            || CMB1130_AWA_1130.AC_TYPE1 == 'K' 
            || CMB1130_AWA_1130.AC_TYPE1 == 'D' 
            || CMB1130_AWA_1130.AC_TYPE1 == 'I')) {
            WS_TEMP_VARIABLE.WS_ERR_MSG = CMCMSG_ERROR_MSG.CM_ERR_INPUT_AC;
            S000_ERR_MSG_PROC();
        }
        if (CMB1130_AWA_1130.AC2.trim().length() == 0 
            && CMB1130_AWA_1130.AC_TYPE2 == 'I') {
            WS_TEMP_VARIABLE.WS_ERR_MSG = CMCMSG_ERROR_MSG.CM_ERR_INPUT_AC;
            S000_ERR_MSG_PROC();
        }
        if ((CMB1130_AWA_1130.AC_TYPE1 != 'A' 
            && CMB1130_AWA_1130.AC_TYPE1 != 'K' 
            && CMB1130_AWA_1130.AC_TYPE1 != 'D' 
            && CMB1130_AWA_1130.AC_TYPE1 != 'I')) {
            WS_TEMP_VARIABLE.WS_ERR_MSG = CMCMSG_ERROR_MSG.CM_AC_TYPE_ERROR;
            S000_ERR_MSG_PROC();
        }
        if ((CMB1130_AWA_1130.ACNO1.trim().length() > 0) 
            && (CMB1130_AWA_1130.AC_TYPE1 != 'K') 
            && (CMB1130_AWA_1130.AC_TYPE1 != 'A')) {
            WS_TEMP_VARIABLE.WS_ERR_MSG = CMCMSG_ERROR_MSG.CM_AC_TYPE_ERROR;
            S000_ERR_MSG_PROC();
        }
        if (CMB1130_AWA_1130.TX_CCY.trim().length() == 0) {
            WS_TEMP_VARIABLE.WS_ERR_MSG = CMCMSG_ERROR_MSG.CM_ERR_CCY_INPUT;
            S000_ERR_MSG_PROC();
        }
        if (CMB1130_AWA_1130.TX_AMT == 0) {
            WS_TEMP_VARIABLE.WS_ERR_MSG = CMCMSG_ERROR_MSG.CM_ERR_INPUT_AMT;
            S000_ERR_MSG_PROC();
        }
    }
    public void B030_AC_TRANSFER_PROC() throws IOException,SQLException,Exception {
        CEP.TRC(SCCGWA, "B030-AC-TRANSFER-PROC");
        IBS.init(SCCGWA, CMCSCTRF);
        CMCSCTRF.INP_INFO.AC_TYPE1 = CMB1130_AWA_1130.AC_TYPE1;
        CMCSCTRF.INP_INFO.AC1 = CMB1130_AWA_1130.AC1;
        CMCSCTRF.INP_INFO.ACNO1 = CMB1130_AWA_1130.ACNO1;
        CMCSCTRF.INP_INFO.RVS_NO1 = CMB1130_AWA_1130.RVS_NO1;
        CMCSCTRF.INP_INFO.DR_BUSI_TYPE1 = CMB1130_AWA_1130.DR_B_TP1;
        CMCSCTRF.INP_INFO.DR_BR_FLG1 = CMB1130_AWA_1130.D_B_FLG1;
        CMCSCTRF.INP_INFO.CHK_PSWD_ID = CMB1130_AWA_1130.CK_PW_ID;
        CMCSCTRF.INP_INFO.PSWD = CMB1130_AWA_1130.PSWD;
        CMCSCTRF.INP_INFO.CHK_MAG_ID = CMB1130_AWA_1130.CK_MG_ID;
        CMCSCTRF.INP_INFO.TRK2_DAT = CMB1130_AWA_1130.TRK2_DAT;
        CMCSCTRF.INP_INFO.TRK3_DAT = CMB1130_AWA_1130.TRK3_DAT;
        CMCSCTRF.INP_INFO.CHK_NAME_FLG1 = CMB1130_AWA_1130.CK_N_FL1;
        CMCSCTRF.INP_INFO.NAME1 = CMB1130_AWA_1130.NAME1;
        CMCSCTRF.INP_INFO.CHK_ID_FLG1 = CMB1130_AWA_1130.CK_ID_F1;
        CMCSCTRF.INP_INFO.ID_TYPE1 = CMB1130_AWA_1130.ID_TYPE1;
        CMCSCTRF.INP_INFO.ID_NO1 = CMB1130_AWA_1130.ID_NO1;
        CMCSCTRF.INP_INFO.CHQ_NO = CMB1130_AWA_1130.CHQ_NO;
        CMCSCTRF.INP_INFO.CHQ_PSWD = CMB1130_AWA_1130.CHQ_PSWD;
        CMCSCTRF.INP_INFO.CHQ_TYPE = CMB1130_AWA_1130.CHQ_TYPE;
        CMCSCTRF.INP_INFO.CHQ_ISSUE_DT = CMB1130_AWA_1130.CHQ_I_DT;
        CMCSCTRF.INP_INFO.HLD_REF = CMB1130_AWA_1130.HLD_REF;
        CMCSCTRF.INP_INFO.ISSUE_DT_FLG = CMB1130_AWA_1130.IS_DT_FL;
        CMCSCTRF.INP_INFO.CHQ_PSWD_FLG = CMB1130_AWA_1130.CH_PW_FL;
        if (CMB1130_AWA_1130.CASH_FL1 == ' ') {
            if (CMB1130_AWA_1130.TX_CCY.equalsIgnoreCase("156")) {
                CMCSCTRF.INP_INFO.CASH_FLG1 = '1';
            } else {
                CMCSCTRF.INP_INFO.CASH_FLG1 = '2';
            }
        } else {
            CMCSCTRF.INP_INFO.CASH_FLG1 = CMB1130_AWA_1130.CASH_FL1;
        }
        if (CMB1130_AWA_1130.MMO1.trim().length() == 0) {
            CMCSCTRF.INP_INFO.MMO1 = "102";
        } else {
            CMCSCTRF.INP_INFO.MMO1 = CMB1130_AWA_1130.MMO1;
        }
        CMCSCTRF.INP_INFO.FILLER1 = CMB1130_AWA_1130.FILLER1;
        CMCSCTRF.INP_INFO.MID_AC = CMB1130_AWA_1130.MID_AC;
        CMCSCTRF.INP_INFO.AC_TYPE2 = CMB1130_AWA_1130.AC_TYPE2;
        CMCSCTRF.INP_INFO.AC2 = CMB1130_AWA_1130.AC2;
        CMCSCTRF.INP_INFO.ACNO2 = CMB1130_AWA_1130.ACNO2;
        CMCSCTRF.INP_INFO.RVS_NO2 = CMB1130_AWA_1130.RVS_NO2;
        CMCSCTRF.INP_INFO.PRDMO_CD2 = CMB1130_AWA_1130.PRMO_CD2;
        CMCSCTRF.INP_INFO.PROD_CD2 = CMB1130_AWA_1130.PROD_CD2;
        CMCSCTRF.INP_INFO.EVENT_CD2 = CMB1130_AWA_1130.EVET_CD2;
        CMCSCTRF.INP_INFO.PRDGL_CD2 = CMB1130_AWA_1130.PRDG_CD2;
        CMCSCTRF.INP_INFO.ACCT_BR2_01 = CMB1130_AWA_1130.AC_BR2_1;
        CMCSCTRF.INP_INFO.ACCT_BR2_02 = CMB1130_AWA_1130.AC_BR2_2;
        CMCSCTRF.INP_INFO.ACCT_BR2_03 = CMB1130_AWA_1130.AC_BR2_3;
        CMCSCTRF.INP_INFO.ACCT_BR2_04 = CMB1130_AWA_1130.AC_BR2_4;
        CMCSCTRF.INP_INFO.ACCT_BR2_05 = CMB1130_AWA_1130.AC_BR2_5;
        CMCSCTRF.INP_INFO.CR_AMT_NO1 = CMB1130_AWA_1130.CR_AM_N1;
        CMCSCTRF.INP_INFO.CR_AMT_VAL1 = CMB1130_AWA_1130.CR_AM_V1;
        CMCSCTRF.INP_INFO.CR_AMT_NO2 = CMB1130_AWA_1130.CR_AM_N2;
        CMCSCTRF.INP_INFO.CR_AMT_VAL2 = CMB1130_AWA_1130.CR_AM_V2;
        CMCSCTRF.INP_INFO.CR_AMT_NO3 = CMB1130_AWA_1130.CR_AM_N3;
        CMCSCTRF.INP_INFO.CR_AMT_VAL3 = CMB1130_AWA_1130.CR_AM_V3;
        CMCSCTRF.INP_INFO.CR_AMT_NO4 = CMB1130_AWA_1130.CR_AM_N4;
        CMCSCTRF.INP_INFO.CR_AMT_VAL4 = CMB1130_AWA_1130.CR_AM_V4;
        CMCSCTRF.INP_INFO.CR_AMT_NO5 = CMB1130_AWA_1130.CR_AM_N5;
        CMCSCTRF.INP_INFO.CR_AMT_VAL5 = CMB1130_AWA_1130.CR_AM_V5;
        CMCSCTRF.INP_INFO.CR_AMT_NO6 = CMB1130_AWA_1130.CR_AM_N6;
        CMCSCTRF.INP_INFO.CR_AMT_VAL6 = CMB1130_AWA_1130.CR_AM_V6;
        CMCSCTRF.INP_INFO.CR_BUSI_TYPE1 = CMB1130_AWA_1130.CR_B_TP1;
        CMCSCTRF.INP_INFO.CHK_NAME_FLG2 = CMB1130_AWA_1130.CK_N_FL2;
        CMCSCTRF.INP_INFO.NAME2 = CMB1130_AWA_1130.NAME2;
        CMCSCTRF.INP_INFO.CHK_ID_FLG2 = CMB1130_AWA_1130.CK_ID_F2;
        CMCSCTRF.INP_INFO.ID_TYPE2 = CMB1130_AWA_1130.ID_TYPE2;
        CMCSCTRF.INP_INFO.ID_NO2 = CMB1130_AWA_1130.ID_NO2;
        CMCSCTRF.INP_INFO.CASH_FLG2 = CMB1130_AWA_1130.CASH_FL2;
        if (CMB1130_AWA_1130.MMO2.trim().length() == 0) {
            CMCSCTRF.INP_INFO.MMO2 = "101";
        } else {
            CMCSCTRF.INP_INFO.MMO2 = CMB1130_AWA_1130.MMO2;
        }
        CMCSCTRF.INP_INFO.FILLER2 = CMB1130_AWA_1130.FILLER2;
        CMCSCTRF.INP_INFO.TX_CCY = CMB1130_AWA_1130.TX_CCY;
        CMCSCTRF.INP_INFO.TX_AMT = CMB1130_AWA_1130.TX_AMT;
        CMCSCTRF.INP_INFO.AMT_SIGN = CMB1130_AWA_1130.AMT_SIGN;
        if (CMB1130_AWA_1130.VAL_DT == 0) {
            if (SCCGWA.COMM_AREA.CANCEL_IND == 'Y') {
                CMB1130_AWA_1130.VAL_DT = GWA_BP_AREA.CANCEL_AREA.CAN_AC_DATE;
            } else {
                CMB1130_AWA_1130.VAL_DT = SCCGWA.COMM_AREA.AC_DATE;
            }
        }
        CMCSCTRF.INP_INFO.VAL_DT = CMB1130_AWA_1130.VAL_DT;
        CMCSCTRF.INP_INFO.TX_REF = CMB1130_AWA_1130.TX_REF;
        CMCSCTRF.INP_INFO.REMARKS = CMB1130_AWA_1130.REMARKS;
        CMCSCTRF.INP_INFO.OTH_AC_NO = CMB1130_AWA_1130.OTH_A_NO;
        CMCSCTRF.INP_INFO.OTH_AC_NAME = CMB1130_AWA_1130.OTH_A_NM;
        CMCSCTRF.INP_INFO.OTH_BK = CMB1130_AWA_1130.OTH_BK;
        CMCSCTRF.INP_INFO.OTH_BKNM = CMB1130_AWA_1130.OTH_BKNM;
        CMCSCTRF.INP_INFO.FILLER3 = CMB1130_AWA_1130.FILLER3;
        CMCSCTRF.INP_INFO.FEE_FLG = CMB1130_AWA_1130.FEE_FLG;
        CMCSCTRF.INP_INFO.FEE_AC = CMB1130_AWA_1130.FEE_AC;
        CMCSCTRF.INP_INFO.FEE_CD = CMB1130_AWA_1130.FEE_CD;
        CMCSCTRF.INP_INFO.FEE_AMT = CMB1130_AWA_1130.FEE_AMT;
        CMCSCTRF.INP_INFO.FEE_CCY = CMB1130_AWA_1130.FEE_CCY;
        CMCSCTRF.INP_INFO.FEE_BR_FLG = CMB1130_AWA_1130.FEE_BR_F;
        CMCSCTRF.INP_INFO.FEE_BR = CMB1130_AWA_1130.FEE_BR;
        S000_CALL_CMZSCTRF();
    }
    public void B050_OUTPUT_PROC() throws IOException,SQLException,Exception {
        CMCF113.FIX_DATA.AC1_BR = CMCSCTRF.OUT_INF.AC1_BR_O;
        CMCF113.FIX_DATA.AC1_FH = CMCSCTRF.OUT_INF.AC1_FH_O;
        CMCF113.FIX_DATA.AC1_BBR = CMCSCTRF.OUT_INF.AC1_BBR_O;
        CMCF113.FIX_DATA.AC1_DBR = CMCSCTRF.OUT_INF.AC1_DBR_O;
        CMCF113.FIX_DATA.AC2 = CMCSCTRF.OUT_INF.AC2_O;
        CMCF113.FIX_DATA.AC2_RVS_NO = CMCSCTRF.OUT_INF.AC2_RVS_NO_O;
        IBS.init(SCCGWA, SCCFMT);
        SCCFMT.FMTID = "35113";
        SCCFMT.ODM_FLG = 'Y';
        SCCFMT.DATA_PTR = CMCF113;
        SCCFMT.DATA_LEN = 77;
        IBS.FMT(SCCGWA, SCCFMT);
    }
    public void S000_CALL_CMZSCTRF() throws IOException,SQLException,Exception {
        IBS.CALLCPN(SCCGWA, "CM-C-SVR-AC-TRF", CMCSCTRF, true);
    }
    public void S000_ERR_MSG_PROC() throws IOException,SQLException,Exception {
        CEP.ERR(SCCGWA, WS_TEMP_VARIABLE.WS_ERR_MSG);
    }
    public void Z_RET() throws IOException,SQLException,Exception {
        return;
    }
    public void B_DB_EXCP() throws IOException,SQLException,Exception {
        throw new SQLException(SCCGWA.e);
    }
}
